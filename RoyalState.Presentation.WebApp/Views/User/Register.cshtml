@using RoyalState.Core.Application.Enums
@using RoyalState.Core.Application.ViewModels.Users;
@model SaveUserViewModel
@{
    ViewData["Title"] = "Register";
    Layout = "~/Views/Shared/_LayoutSmall.cshtml";
}

<link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.2/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://unpkg.com/bs-brain@2.0.3/components/registrations/registration-9/assets/css/registration-9.css">
<style>
    a {
       text-decoration: none;
    }

    .form-shadow {
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.15);
    }
</style>

<div class="container mt-3">
    <section class="py-3 py-md-5 py-xl-8" style="border-radius: 1rem; background-color:rgb(249, 249, 249);">
        <div class="container">
            <div class="row gy-4 align-items-center">
                <div class="col-12 col-md-4 col-xl-3">
                    <div class="d-flex justify-content-center">
                        <div class="col-12 col-xl-9">
                            <img class="img-fluid rounded mb-4" loading="lazy" src="https://bootstrapious.com/i/snippets/sn-registeration/illustration.svg" width="245" height="80" alt="Create an account">
                            <hr class="border-primary-subtle mb-4">
                            <h2 class="h1 mb-4">Create an account.</h2>
                            <p class="lead mb-5">You can be a part of us, as a client or as an agent!</p>
                            <div class="text-endx">
                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-grip-horizontal" viewBox="0 0 16 16">
                                    <path d="M2 8a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-8 col-xl-9">
                    <div class="card border-0 rounded-4 form-shadow">
                        <div class="card-body p-3 p-md-4 p-xl-5">
                            <div class="row">
                                <div class="col-12">
                                    <div class="mb-5">
                                        <h2 class="h3">Registration</h2>
                                        <h3 class="fs-6 fw-normal text-secondary m-0">Enter your details to become a part of RoyalState!</h3>
                                    </div>
                                </div>
                            </div>
                            @if (!String.IsNullOrWhiteSpace(ViewBag.Error))
                            {
                                <div class="alert alert-danger alert-dismissible fade show mb-5" role="alert">
                                    <p class="mb-0">@ViewBag.Error</p>
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            }
                            <form method="post" asp-controller="User" asp-action="Register" enctype="multipart/form-data">
                                <div class="row gy-3 overflow-hidden">
                                    <div class="row overflow-hidden">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <span>First Name</span>
                                                    <input asp-for="FirstName" class="form-control form-control-sm">
                                                    <span asp-validation-for="FirstName" class="text-danger"></span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <span>Last Name</span>
                                                    <input asp-for="LastName" class="form-control form-control-sm">
                                                    <span asp-validation-for="LastName" class="text-danger"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-floating mb-3">
                                                <input asp-for="UserName" class="form-control" id="UserName" placeholder="Username">
                                                <label asp-for="UserName" for="UserName" class="form-label">Username</label>
                                                <span asp-validation-for="UserName" class="text-danger"></span>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-floating mb-3">
                                                <input asp-for="Email" class="form-control" id="email" placeholder="name@example.com">
                                                <label asp-for="Email" for="email" class="form-label">Email</label>
                                                <span asp-validation-for="Email" class="text-danger"></span>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-floating mb-3">
                                                <input asp-for="Phone" class="form-control" id="phone" placeholder="+1 (809) 859-8495">
                                                <label asp-for="Phone" for="phone" class="form-label">Phone</label>
                                                <span asp-validation-for="Phone" class="text-danger"></span>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-floating mb-3">
                                                <select asp-for="Role" class="form-select" id="role">
                                                    <option value="0">Select a role</option>
                                                    <option value="@((int)Roles.Agent)">@(Roles.Agent.ToString())</option>
                                                    <option value="@((int)Roles.Client)">@(Roles.Client.ToString())</option>
                                                </select>
                                                <label asp-for="Role" for="role" class="form-label">Role</label>
                                                <span asp-validation-for="Role" class="text-danger"></span>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-floating mb-3">
                                                <input asp-for="File" class="form-control" id="fileUpload" placeholder="Choose file" required>
                                                <label asp-for="File" for="fileUpload" class="form-label">Profile Picture</label>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-floating mb-3">
                                                <input asp-for="Password" class="form-control" id="password" placeholder="Password">
                                                <label asp-for="Password" for="password" class="form-label">Password</label>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-floating mb-3">
                                                <input asp-for="ConfirmPassword" class="form-control" id="confirmPassword" placeholder="Confirm Password">
                                                <label asp-for="ConfirmPassword" for="confirmPassword" class="form-label">Confirm Password</label>
                                                <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="d-grid">
                                                <button class="btn btn-primary btn-lg" type="submit">Sign up</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <div class="row">
                                <div class="col-12">
                                    <div class="d-flex gap-2 gap-md-4 flex-column flex-md-row justify-content-md-end mt-5">
                                        <p class="m-0 text-secondary text-center">Already have an account? <a asp-controller="User" asp-action="Index" class="link-primary text-decoration-none" style="margin-right:30px;">Sign in</a></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>